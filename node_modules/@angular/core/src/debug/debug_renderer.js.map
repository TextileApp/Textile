{"version":3,"file":"debug_renderer.js","sourceRoot":"","sources":["../../../../../modules/@angular/core/src/debug/debug_renderer.ts"],"names":[],"mappings":"AAAA;;;;;;GAMG;OAKI,EAAC,SAAS,EAAC,MAAM,gBAAgB;OAGjC,EAAC,YAAY,EAAE,SAAS,EAAE,aAAa,EAAE,YAAY,EAAE,cAAc,EAAE,wBAAwB,EAAC,MAAM,cAAc;AAE3H;IACE,8BAAoB,SAAuB;QAAvB,cAAS,GAAT,SAAS,CAAc;IAAG,CAAC;IAE/C,8CAAe,GAAf,UAAgB,cAAmC;QACjD,MAAM,CAAC,IAAI,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC,CAAC;IAC9E,CAAC;IACH,2BAAC;AAAD,CAAC,AAND,IAMC;AAED;IACE,0BAAoB,SAAmB;QAAnB,cAAS,GAAT,SAAS,CAAU;IAAG,CAAC;IAE3C,4CAAiB,GAAjB,UAAkB,cAA0B,EAAE,SAA2B;QACvE,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;QAC7E,IAAM,OAAO,GAAG,IAAI,YAAY,CAAC,QAAQ,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;QAC5D,cAAc,CAAC,OAAO,CAAC,CAAC;QACxB,MAAM,CAAC,QAAQ,CAAC;IAClB,CAAC;IAED,wCAAa,GAAb,UAAc,aAAkB,EAAE,IAAY,EAAE,SAA2B;QACzE,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,aAAa,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;QAC9E,IAAM,OAAO,GAAG,IAAI,YAAY,CAAC,QAAQ,EAAE,YAAY,CAAC,aAAa,CAAC,EAAE,SAAS,CAAC,CAAC;QACnF,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;QACpB,cAAc,CAAC,OAAO,CAAC,CAAC;QACxB,MAAM,CAAC,QAAQ,CAAC;IAClB,CAAC;IAED,yCAAc,GAAd,UAAe,WAAgB,IAAS,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;IAE5F,+CAAoB,GAApB,UAAqB,aAAkB,EAAE,SAA2B;QAClE,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;QAC9E,IAAM,OAAO,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE,YAAY,CAAC,aAAa,CAAC,EAAE,SAAS,CAAC,CAAC;QAC/E,cAAc,CAAC,OAAO,CAAC,CAAC;QACxB,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IAED,qCAAU,GAAV,UAAW,aAAkB,EAAE,KAAa,EAAE,SAA2B;QACvE,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,aAAa,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;QACxE,IAAM,OAAO,GAAG,IAAI,SAAS,CAAC,IAAI,EAAE,YAAY,CAAC,aAAa,CAAC,EAAE,SAAS,CAAC,CAAC;QAC5E,cAAc,CAAC,OAAO,CAAC,CAAC;QACxB,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAED,uCAAY,GAAZ,UAAa,aAAkB,EAAE,KAAY;QAC3C,IAAM,WAAW,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;QAChD,EAAE,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,WAAW,YAAY,YAAY,CAAC,CAAC,CAAC;YAClE,IAAM,cAAY,GAAG,WAAW,CAAC;YACjC,KAAK,CAAC,OAAO,CAAC,UAAC,IAAI,IAAO,cAAY,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1E,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;IACpD,CAAC;IAED,0CAAe,GAAf,UAAgB,IAAS,EAAE,aAAoB;QAC7C,IAAM,SAAS,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;QACrC,EAAE,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACzB,IAAM,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC;YACrC,EAAE,CAAC,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBACvD,IAAM,oBAAkB,GAAgB,EAAE,CAAC;gBAC3C,aAAa,CAAC,OAAO,CAAC,UAAC,QAAQ,IAAK,OAAA,oBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,EAA/C,CAA+C,CAAC,CAAC;gBACrF,WAAW,CAAC,mBAAmB,CAAC,SAAS,EAAE,oBAAkB,CAAC,CAAC;YACjE,CAAC;QACH,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IACtD,CAAC;IAED,qCAAU,GAAV,UAAW,aAAoB;QAC7B,aAAa,CAAC,OAAO,CAAC,UAAC,IAAI;YACzB,IAAM,SAAS,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;YACrC,EAAE,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBACxD,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC1C,CAAC;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;IAC3C,CAAC;IAED,sCAAW,GAAX,UAAY,WAAgB,EAAE,YAAmB;QAC/C,YAAY,GAAG,YAAY,IAAI,EAAE,CAAC;QAClC,YAAY,CAAC,OAAO,CAAC,UAAC,IAAI,IAAO,wBAAwB,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAClF,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;IACxD,CAAC;IAED,iCAAM,GAAN,UAAO,aAAkB,EAAE,IAAY,EAAE,QAAkB;QACzD,IAAM,OAAO,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACvB,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;QAC5D,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC9D,CAAC;IAED,uCAAY,GAAZ,UAAa,MAAc,EAAE,IAAY,EAAE,QAAkB;QAC3D,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC7D,CAAC;IAED,6CAAkB,GAAlB,UAAmB,aAAkB,EAAE,YAAoB,EAAE,aAAkB;QAC7E,IAAM,OAAO,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,OAAO,YAAY,YAAY,CAAC,CAAC,CAAC;YAC1D,OAAO,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,aAAa,CAAC;QACnD,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,aAAa,EAAE,YAAY,EAAE,aAAa,CAAC,CAAC;IAChF,CAAC;IAED,8CAAmB,GAAnB,UAAoB,aAAkB,EAAE,aAAqB,EAAE,cAAsB;QACnF,IAAM,OAAO,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,OAAO,YAAY,YAAY,CAAC,CAAC,CAAC;YAC1D,OAAO,CAAC,UAAU,CAAC,aAAa,CAAC,GAAG,cAAc,CAAC;QACrD,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,aAAa,EAAE,aAAa,EAAE,cAAc,CAAC,CAAC;IACnF,CAAC;IAED,8CAAmB,GAAnB,UAAoB,aAAkB,EAAE,YAAoB,EAAE,aAAqB;QACjF,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,aAAa,EAAE,YAAY,EAAE,aAAa,CAAC,CAAC;IACjF,CAAC;IAED,0CAAe,GAAf,UAAgB,aAAkB,EAAE,SAAiB,EAAE,KAAc;QACnE,IAAM,OAAO,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,OAAO,YAAY,YAAY,CAAC,CAAC,CAAC;YAC1D,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;QACrC,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,aAAa,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;IAClE,CAAC;IAED,0CAAe,GAAf,UAAgB,aAAkB,EAAE,SAAiB,EAAE,UAAkB;QACvE,IAAM,OAAO,GAAG,YAAY,CAAC,aAAa,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,OAAO,YAAY,YAAY,CAAC,CAAC,CAAC;YAC1D,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,UAAU,CAAC;QACzC,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,aAAa,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;IACvE,CAAC;IAED,8CAAmB,GAAnB,UAAoB,aAAkB,EAAE,UAAkB,EAAE,IAAY;QACtE,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,aAAa,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;IACtE,CAAC;IAED,kCAAO,GAAP,UAAQ,UAAe,EAAE,IAAY,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;IAEpF,kCAAO,GAAP,UACI,OAAY,EAAE,cAA+B,EAAE,SAA8B,EAC7E,QAAgB,EAAE,KAAa,EAAE,MAAc,EAC/C,eAAuC;QAAvC,+BAAuC,GAAvC,oBAAuC;QACzC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CACzB,OAAO,EAAE,cAAc,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,eAAe,CAAC,CAAC;IACpF,CAAC;IACH,uBAAC;AAAD,CAAC,AArID,IAqIC","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {AnimationKeyframe} from '../animation/animation_keyframe';\nimport {AnimationPlayer} from '../animation/animation_player';\nimport {AnimationStyles} from '../animation/animation_styles';\nimport {isPresent} from '../facade/lang';\nimport {RenderComponentType, RenderDebugInfo, Renderer, RootRenderer} from '../render/api';\n\nimport {DebugElement, DebugNode, EventListener, getDebugNode, indexDebugNode, removeDebugNodeFromIndex} from './debug_node';\n\nexport class DebugDomRootRenderer implements RootRenderer {\n  constructor(private _delegate: RootRenderer) {}\n\n  renderComponent(componentProto: RenderComponentType): Renderer {\n    return new DebugDomRenderer(this._delegate.renderComponent(componentProto));\n  }\n}\n\nexport class DebugDomRenderer {\n  constructor(private _delegate: Renderer) {}\n\n  selectRootElement(selectorOrNode: string|any, debugInfo?: RenderDebugInfo): any {\n    const nativeEl = this._delegate.selectRootElement(selectorOrNode, debugInfo);\n    const debugEl = new DebugElement(nativeEl, null, debugInfo);\n    indexDebugNode(debugEl);\n    return nativeEl;\n  }\n\n  createElement(parentElement: any, name: string, debugInfo?: RenderDebugInfo): any {\n    const nativeEl = this._delegate.createElement(parentElement, name, debugInfo);\n    const debugEl = new DebugElement(nativeEl, getDebugNode(parentElement), debugInfo);\n    debugEl.name = name;\n    indexDebugNode(debugEl);\n    return nativeEl;\n  }\n\n  createViewRoot(hostElement: any): any { return this._delegate.createViewRoot(hostElement); }\n\n  createTemplateAnchor(parentElement: any, debugInfo?: RenderDebugInfo): any {\n    const comment = this._delegate.createTemplateAnchor(parentElement, debugInfo);\n    const debugEl = new DebugNode(comment, getDebugNode(parentElement), debugInfo);\n    indexDebugNode(debugEl);\n    return comment;\n  }\n\n  createText(parentElement: any, value: string, debugInfo?: RenderDebugInfo): any {\n    const text = this._delegate.createText(parentElement, value, debugInfo);\n    const debugEl = new DebugNode(text, getDebugNode(parentElement), debugInfo);\n    indexDebugNode(debugEl);\n    return text;\n  }\n\n  projectNodes(parentElement: any, nodes: any[]) {\n    const debugParent = getDebugNode(parentElement);\n    if (isPresent(debugParent) && debugParent instanceof DebugElement) {\n      const debugElement = debugParent;\n      nodes.forEach((node) => { debugElement.addChild(getDebugNode(node)); });\n    }\n    this._delegate.projectNodes(parentElement, nodes);\n  }\n\n  attachViewAfter(node: any, viewRootNodes: any[]) {\n    const debugNode = getDebugNode(node);\n    if (isPresent(debugNode)) {\n      const debugParent = debugNode.parent;\n      if (viewRootNodes.length > 0 && isPresent(debugParent)) {\n        const debugViewRootNodes: DebugNode[] = [];\n        viewRootNodes.forEach((rootNode) => debugViewRootNodes.push(getDebugNode(rootNode)));\n        debugParent.insertChildrenAfter(debugNode, debugViewRootNodes);\n      }\n    }\n    this._delegate.attachViewAfter(node, viewRootNodes);\n  }\n\n  detachView(viewRootNodes: any[]) {\n    viewRootNodes.forEach((node) => {\n      const debugNode = getDebugNode(node);\n      if (isPresent(debugNode) && isPresent(debugNode.parent)) {\n        debugNode.parent.removeChild(debugNode);\n      }\n    });\n    this._delegate.detachView(viewRootNodes);\n  }\n\n  destroyView(hostElement: any, viewAllNodes: any[]) {\n    viewAllNodes = viewAllNodes || [];\n    viewAllNodes.forEach((node) => { removeDebugNodeFromIndex(getDebugNode(node)); });\n    this._delegate.destroyView(hostElement, viewAllNodes);\n  }\n\n  listen(renderElement: any, name: string, callback: Function): Function {\n    const debugEl = getDebugNode(renderElement);\n    if (isPresent(debugEl)) {\n      debugEl.listeners.push(new EventListener(name, callback));\n    }\n    return this._delegate.listen(renderElement, name, callback);\n  }\n\n  listenGlobal(target: string, name: string, callback: Function): Function {\n    return this._delegate.listenGlobal(target, name, callback);\n  }\n\n  setElementProperty(renderElement: any, propertyName: string, propertyValue: any) {\n    const debugEl = getDebugNode(renderElement);\n    if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n      debugEl.properties[propertyName] = propertyValue;\n    }\n    this._delegate.setElementProperty(renderElement, propertyName, propertyValue);\n  }\n\n  setElementAttribute(renderElement: any, attributeName: string, attributeValue: string) {\n    const debugEl = getDebugNode(renderElement);\n    if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n      debugEl.attributes[attributeName] = attributeValue;\n    }\n    this._delegate.setElementAttribute(renderElement, attributeName, attributeValue);\n  }\n\n  setBindingDebugInfo(renderElement: any, propertyName: string, propertyValue: string) {\n    this._delegate.setBindingDebugInfo(renderElement, propertyName, propertyValue);\n  }\n\n  setElementClass(renderElement: any, className: string, isAdd: boolean) {\n    const debugEl = getDebugNode(renderElement);\n    if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n      debugEl.classes[className] = isAdd;\n    }\n    this._delegate.setElementClass(renderElement, className, isAdd);\n  }\n\n  setElementStyle(renderElement: any, styleName: string, styleValue: string) {\n    const debugEl = getDebugNode(renderElement);\n    if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n      debugEl.styles[styleName] = styleValue;\n    }\n    this._delegate.setElementStyle(renderElement, styleName, styleValue);\n  }\n\n  invokeElementMethod(renderElement: any, methodName: string, args?: any[]) {\n    this._delegate.invokeElementMethod(renderElement, methodName, args);\n  }\n\n  setText(renderNode: any, text: string) { this._delegate.setText(renderNode, text); }\n\n  animate(\n      element: any, startingStyles: AnimationStyles, keyframes: AnimationKeyframe[],\n      duration: number, delay: number, easing: string,\n      previousPlayers: AnimationPlayer[] = []): AnimationPlayer {\n    return this._delegate.animate(\n        element, startingStyles, keyframes, duration, delay, easing, previousPlayers);\n  }\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}