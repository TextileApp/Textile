// contra.emitter@v1.1.1, MIT licensed. https://github.com/bevacqua/contra.emitter
!function(t,e){"use strict";function n(t,e){return Array.prototype.slice.call(t,e)}function r(t,e,n){t&&i(function(){t.apply(n||null,e||[])})}function o(t,o){var i=o||{},u={};return t===e&&(t={}),t.on=function(e,n){return u[e]?u[e].push(n):u[e]=[n],t},t.once=function(e,n){return n._once=!0,t.on(e,n),t},t.off=function(e,n){var r=arguments.length;if(1===r)delete u[e];else if(0===r)u={};else{var o=u[e];if(!o)return t;o.splice(o.indexOf(n),1)}return t},t.emit=function(){var e=n(arguments);return t.emitterSnapshot(e.shift()).apply(this,e)},t.emitterSnapshot=function(e){var o=(u[e]||[]).slice(0);return function(){var u=n(arguments),c=this||t;if("error"===e&&i.throws!==!1&&!o.length)throw 1===u.length?u[0]:u;return o.forEach(function(n){i.async?r(n,u,c):n.apply(c,u),n._once&&t.off(e,n)}),t}},t}var i,u=""+e,c="function"==typeof setImmediate;i=c?function(t){setImmediate(t)}:typeof process!==u&&process.nextTick?process.nextTick:function(t){setTimeout(t,0)},typeof module!==u&&module.exports?module.exports=o:(t.contra=t.contra||{},t.contra.emitter=o)}(this);