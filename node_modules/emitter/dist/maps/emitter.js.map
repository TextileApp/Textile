{"version":3,"sources":["emitter.js"],"names":[],"mappings":"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","file":"emitter.js","sourcesContent":["var noop = () => false\n\nvar defaultMaxListeners = 10\n\nexport class EventEmitter {\n  constructor() {\n    this._events = this._events || {}\n    this._maxListeners = this._maxListeners || defaultMaxListeners\n  }\n\n  setMaxListeners(n) {\n    if (typeof n !== 'number' || n < 0)\n      throw TypeError('n must be a positive number')\n    this._maxListeners = n\n  }\n\n  emit(type) {\n    var er, handler, len, args, i, listeners\n\n    if (!this._events)\n      this._events = {}\n\n    // If there is no 'error' event listener then throw.\n    if (type === 'error') {\n      if (!this._events.error ||\n          (typeof this._events.error === 'object' &&\n           !this._events.error.length)) {\n        er = arguments[1]\n        if (this.domain) {\n          if (!er) er = new TypeError('Uncaught, unspecified \"error\" event.')\n        } else if (er instanceof Error) {\n          throw er // Unhandled 'error' event\n        } else {\n          throw TypeError('Uncaught, unspecified \"error\" event.')\n        }\n        return false\n      }\n    }\n\n    handler = this._events[type]\n\n    if (typeof handler === 'undefined')\n      return false\n\n    if (typeof handler === 'function') {\n      switch (arguments.length) {\n        // fast cases\n        case 1:\n          handler.call(this)\n          break\n        case 2:\n          handler.call(this, arguments[1])\n          break\n        case 3:\n          handler.call(this, arguments[1], arguments[2])\n          break\n        // slower\n        default:\n          len = arguments.length\n          args = new Array(len - 1)\n          for (i = 1; i < len; i++)\n            args[i - 1] = arguments[i]\n          handler.apply(this, args)\n      }\n    } else if (typeof handler === 'object') {\n      len = arguments.length\n      args = new Array(len - 1)\n      for (i = 1; i < len; i++)\n        args[i - 1] = arguments[i]\n\n      listeners = handler.slice()\n      len = listeners.length\n      for (i = 0; i < len; i++)\n        listeners[i].apply(this, args)\n    }\n\n    return true\n  }\n\n  addListener(type, listener) {\n    var m\n\n    if (typeof listener !== 'function')\n      throw TypeError('listener must be a function')\n\n    if (!this._events)\n      this._events = {}\n\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (this._events.newListener)\n      this.emit('newListener', type, typeof listener.listener === 'function' ?\n                listener.listener : listener)\n\n    if (!this._events[type])\n      // Optimize the case of one listener. Don't need the extra array object.\n      this._events[type] = listener\n    else if (typeof this._events[type] === 'object')\n      // If we've already got an array, just append.\n      this._events[type].push(listener)\n    else\n      // Adding the second element, need to change to array.\n      this._events[type] = [this._events[type], listener]\n\n    // Check for listener leak\n    if (typeof this._events[type] === 'object' && !this._events[type].warned) {\n      m = this._maxListeners\n      if (m && m > 0 && this._events[type].length > m) {\n        this._events[type].warned = true\n        console.error('(node) warning: possible EventEmitter memory ' +\n                      'leak detected. %d listeners added. ' +\n                      'Use emitter.setMaxListeners() to increase limit.',\n                      this._events[type].length)\n        console.trace()\n      }\n    }\n\n    return this\n  }\n\n  on(...args) {\n    return this.addListener.apply(this, args)\n  }\n\n  once(type, listener) {\n    if (typeof listener !== 'function')\n      throw TypeError('listener must be a function')\n\n    function g() {\n      this.removeListener(type, g)\n      listener.apply(this, arguments)\n    }\n\n    g.listener = listener\n    this.on(type, g)\n\n    return this\n  }\n\n  removeListener(type, listener) {\n    var list, position, length, i\n\n    if (typeof listener !== 'function')\n      throw TypeError('listener must be a function')\n\n    if (!this._events || !this._events[type])\n      return this\n\n    list = this._events[type]\n    length = list.length\n    position = -1\n\n    if (list === listener ||\n        (typeof list.listener === 'function' && list.listener === listener)) {\n      this._events[type] = undefined\n      if (this._events.removeListener)\n        this.emit('removeListener', type, listener)\n\n    } else if (typeof list === 'object') {\n      for (i = length; i-- > 0;) {\n        if (list[i] === listener ||\n            (list[i].listener && list[i].listener === listener)) {\n          position = i\n          break\n        }\n      }\n\n      if (position < 0)\n        return this\n\n      if (list.length === 1) {\n        list.length = 0\n        this._events[type] = undefined\n      } else {\n        list.splice(position, 1)\n      }\n\n      if (this._events.removeListener)\n        this.emit('removeListener', type, listener)\n    }\n\n    return this\n  }\n\n  removeAllListeners(type) {\n    var key, listeners\n\n    if (!this._events)\n      return this\n\n    // not listening for removeListener, no need to emit\n    if (!this._events.removeListener) {\n      if (arguments.length === 0)\n        this._events = {}\n      else if (this._events[type])\n        this._events[type] = undefined\n      return this\n    }\n\n    // emit removeListener for all listeners on all events\n    if (arguments.length === 0) {\n      var keys = Object.keys(this._events)\n\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        if (key === 'removeListener') continue\n        this.removeAllListeners(key)\n      }\n      this.removeAllListeners('removeListener')\n      this._events = {}\n      return this\n    }\n\n    listeners = this._events[type]\n\n    if (typeof listeners === 'function') {\n      this.removeListener(type, listeners)\n    } else {\n      // LIFO order\n      while (listeners.length)\n        this.removeListener(type, listeners[listeners.length - 1])\n    }\n    this._events[type] = undefined\n\n    return this\n  }\n\n  listeners(type) {\n    var ret\n    if (!this._events || !this._events[type])\n      ret = []\n    else if (typeof this._events[type] === 'function')\n      ret = [this._events[type]]\n    else\n      ret = this._events[type].slice()\n    return ret\n  }\n\n  static listenerCount(emitter, type) {\n    var ret\n    if (!emitter._events || !emitter._events[type])\n      ret = 0\n    else if (typeof emitter._events[type] === 'function')\n      ret = 1\n    else\n      ret = emitter._events[type].length\n    return ret\n  }\n\n  static inherits(ctor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    })\n  }\n\n  static extend(target) {\n    return _extend(target, new EventEmitter(), EventEmitter.prototype)\n  }\n}\n\nfunction _extend(target, ...objs) {\n  for (var i = 0, l = objs.length; i < l; i++) {\n    var keys = Object.getOwnPropertyNames(objs[i] || {})\n\n    for (var key of keys) {\n      target[key] = objs[i][key]\n    }\n  }\n\n  return target\n}\n\nclass _Promise {\n  constructor(resolver = noop) {\n\n    this._settled = false\n    this._success = false\n    this._args = []\n    this._callbacks = []\n    this._onReject = noop\n\n    resolver(this.resolve.bind(this), this.reject.bind(this))\n  }\n\n  then(onResolve, onReject = noop) {\n    var promise = new _Promise()\n\n    this._onReject = onReject\n    this._callbacks.push((...args) => {\n      var ret = onResolve.apply(this, args)\n\n      if (ret && typeof ret.then == 'function') {\n        ret.then(promise.resolve.bind(promise),\n          promise.reject.bind(promise))\n      }\n    })\n\n    if (this._settled) {\n      if (this._success) {\n        this.resolve.apply(this, this._args)\n      } else {\n        this.onReject.apply(this, this._args)\n      }\n    }\n\n    return promise\n  }\n\n  catch(onReject) {\n    this._onReject = onReject\n\n    return this\n  }\n\n  resolve(...args) {\n    for (var handler of this._callbacks) {\n      handler.apply(this, args)\n    }\n\n    this._args = args\n    this._settled = true\n    this._success = true\n  }\n\n  reject(...args) {\n    this._onReject.apply(this, args)\n\n    this._args = args\n    this._settled = true\n  }\n}\n\nvar nativePromise = ('undefined' !== typeof global ? global : window).Promise || null\n\nexport function Promise(resolver) {\n  var promise = null\n  var resolve = noop\n  var reject = noop\n  resolver = resolver || noop\n\n  if (nativePromise) {\n    promise = new nativePromise((_1, _2) => {\n      resolve = _1\n      reject = _2\n\n      resolver(_1, _2)\n    })\n    promise.resolve = (...args) => {\n      resolve.apply(promise, args)\n    }\n    promise.reject = (...args) => {\n      reject.apply(promise, args)\n    }\n  } else {\n    promise = new _Promise(resolver)\n  }\n\n  return promise\n}"],"sourceRoot":"/source/"}